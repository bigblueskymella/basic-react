import React, { useState } from 'react';
import "./Item.css";

const Item = ({id, content, isDone, onDelete, onUpdate }) => {
  const [isEditing, setIsEditing] = useState(false); // ìˆ˜ì • ëª¨ë“œ ìƒíƒœ
  const [editContent, setEditContent] = useState(content); // ìˆ˜ì • ë‚´ìš©

  const onClickDelete=()=>{
    onDelete(id)
  }
  const handleEditClick = () => {
    setIsEditing(true); // ìˆ˜ì • ëª¨ë“œë¡œ ì „í™˜
    // ğŸŸ ì…ë ¥ í•„ë“œ, ì €ì¥ ,ì·¨ì†Œ ë²„íŠ¼ì´ í‘œì‹œ
  };
  const handleSave = () => {
    onUpdate(id, editContent); // ìˆ˜ì •ëœ ë‚´ìš© ğŸŸ ì €ì¥ ğŸ”´Appìœ¼ë¡œ ì „ë‹¬
    setIsEditing(false); // ìˆ˜ì • ëª¨ë“œ í•´ì œ
  };
  const handleCancel = () => {
    setEditContent(content); // ìˆ˜ì • ğŸŸ ì·¨ì†Œ (ê¸°ì¡´ ë‚´ìš© ë³µêµ¬)
    setIsEditing(false); // ìˆ˜ì • ëª¨ë“œ í•´ì œ
  };

  return (
    <div className='TodoItem'>
      <div className="checkbox_col">
        <input type="checkbox" checked={isDone} />
      </div>

{/* ğŸŸ  ì¡°ê±´ë¶€ ë Œë”ë§ : isEditing === true (ìˆ˜ì •) false ê¸°ë³¸ */}
      {isEditing ? (
        <div className="edit_mode">
          <input
            type="text"
            value={editContent}
            onChange={(e) => setEditContent(e.target.value)}
          />
          <button onClick={handleSave}>ì €ì¥</button>
          <button onClick={handleCancel}>ì·¨ì†Œ</button>
        </div>
      ) : (
      <div onClick={handleEditClick}>í•  ì¼ Item {content}</div>)}

      <div>{new Date().toLocaleDateString()}</div>
      <div className='btn_col'>
        <button onClick={onClickDelete}>ì‚­ì œ</button>
      </div>
    </div>
  )
}

export default Item
